@use "@/scss/globals.scss";

$rollback-shadow-right: 2.9px 1.5px 1.9px rgba(1, 6, 26, 0.119),
  6.4px 3.2px 4.4px rgba(1, 6, 26, 0.165),
  11.2px 5.7px 7.8px rgba(1, 6, 26, 0.203),
  18.4px 9.4px 13.3px rgba(1, 6, 26, 0.246),
  25px 16px 23.4px rgba(1, 6, 26, 0.311);
$rollback-background-start-rgb: rgb(33, 18, 143);
$rollback-background-end-rgb: rgb(2, 14, 52);
$rollback-card-rgb: rgb(14, 18, 20);
$rollback-content-rgb: rgb(58, 58, 57);
$rollback-card-shadow: 12px 12px 10px 0px rgba(white, 0.7),
  -12px -12px 10px 0px rgba(white, 0.7),
  12px 12px 10px 0px rgba(white, 0.7) inset,
  -12px -12px 10px 0px rgba(white, 0.7) inset;

#rollbackMain {
  background: linear-gradient(
      to bottom,
      transparent,
      $rollback-background-end-rgb
    )
    $rollback-background-start-rgb;
  #rollbackCard {
    background-color: $rollback-card-rgb;
    -webkit-animation: breath 3s linear;
    animation: breath 3s linear;
    #rollbackGrid {
      background: $rollback-content-rgb;
      box-shadow: globals.$project-default-inset-shadow;
    }
    p {
      background: $rollback-content-rgb;
      box-shadow: globals.$project-default-inset-shadow;
    }
    ul {
      background: $rollback-content-rgb;
      box-shadow: globals.$project-default-inset-shadow;
    }
  }
}

@-webkit-keyframes breath {
  0% {
    box-shadow: 0px 0px white;
  }
  50% {
    box-shadow: $rollback-card-shadow;
  }
}

@keyframes breath {
  0% {
    box-shadow: 0px 0px white;
  }
  50% {
    box-shadow: $rollback-card-shadow;
  }
}

@mixin RollbackHoverLeft {
  &:hover {
    background-color: rgba(white, 0.05);
    border: 2px solid rgba(white, 0.6);
    transform: translateX(-4px);
    box-shadow: $rollback-shadow-right;
    span {
      transform: translateX(-8px);
    }
  }
}

#rollbackArrow {
  background: rgba($rollback-background-start-rgb, 1);
  box-shadow: 2px 2px 2px 2px black;
}

/* Enable hover only on non-touch devices */
@media (hover: hover) and (pointer: fine) {
  #rollbackArrow {
    @include RollbackHoverLeft;
  }
}

@media (prefers-reduced-motion) {
  #rollbackCard {
    -webkit-animation: none;
    animation: none;
  }
}
